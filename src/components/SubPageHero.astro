---
import type { CollectionEntry } from 'astro:content';
import { bgColorMap, textColorMap, textHoverColorMap, type SectionLink, type SubPageHeroProps } from "../statics"
import {Image} from 'astro:assets';
import Hero2 from './widgets/Hero2.astro';

interface Props {
  hero: CollectionEntry<'subpage'>;
}

const hero = Astro.props.hero;
const props = hero.data;
// const sectionLinks = Astro.props.sectionLinks as SectionLink[]

const { Content, headings } = await hero.render();

let bgColor = props.styling?.bgColor && bgColorMap.get(props.styling.bgColor)
let textColor = props.styling?.textColor && textColorMap.get(props.styling.textColor)
let titleColor = props.styling?.titleColor && textColorMap.get(props.styling.titleColor)
let headerColor = props.styling?.headerColor && textColorMap.get(props.styling.headerColor)
let emphasisColor = props.styling?.emphasisColor && textHoverColorMap.get(props.styling.emphasisColor)

const heroClass = `hero min-h-[60vh] ${bgColor} ${textColor}`
let heroContentClass = ""
if (props.styling?.textPosition) {
  const tp = props.styling.textPosition
  if (tp === "left") {
    heroContentClass = "hero-content flex-col lg:flex-row-reverse"
  } else if (tp === "right") {
    heroContentClass = "hero-content flex-col-reverse lg:flex-row"
  } else if (tp === "top") {
    heroContentClass = "hero-content flex-col-reverse"
  } else if (tp === "bottom") {
    heroContentClass = "hero-content flex-col"
  } else {
    heroContentClass = "hero-content flex-col lg:flex-row"
  }
}
---

<Hero2
    tagline={hero.data.tagline}
    actions={[
      { variant: 'primary', target: '_blank', text: 'Get Started', href: 'https://github.com/onwidget/astrowind' },
      { text: 'Learn more', href: '#features' },
    ]}
    image={hero.data.image}
  >
    <Fragment slot="title" set:html={hero.data.title}></Fragment>

    <Fragment slot="subtitle">
      <div class="prose">
        <Content />
      </div>
    </Fragment>

</Hero2>